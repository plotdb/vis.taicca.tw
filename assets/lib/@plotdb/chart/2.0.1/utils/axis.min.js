!function(){var s,t;function h(t,e){var n,i={}.hasOwnProperty;for(n in e)i.call(e,n)&&(t[n]=e[n]);return t}s=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},(t=function(t){var e,n=this;return this.dir={bottom:0,left:2}[(t=null==t?{}:t).direction||"bottom"],this.name=t.name||"axis",this.layout=t.layout||new layout({root:this.root}),this._ticks=[],this._scale=t.scale||function(t){return t},this._format=t.format||("undefined"!=typeof chart&&null!==chart?chart.utils.format.simple:function(t){return t}),this.cfg=h({tickSize:8},t.cfg),this._map={},this._n=e={root:s("g"),layout:this.layout.getNode(this.name),render:this.layout.getGroup(this.name),wrap:null,domain:s("path")},e.render.appendChild(e.root),e.root.appendChild(e.domain),e.label=s("text"),e.label.textContent="",(t=e.label).setAttribute("dominant-baseline","hanging"),t.setAttribute("text-anchor","middle"),e.root.appendChild(e.label),this.wrapper(),(e=this.layout).on("update",function(){return n.update()}),e.on("render",function(){return n.render()}),this}).prototype=h(Object.create(Object.prototype),{wrapper:function(){var t,e=this._n;return e.wrap&&e.wrap.parentNode&&e.wrap.parentNode.removeChild(e.wrap),e.wrap=document.createElement("div"),h(((t=e.wrap.style).visibility="hidden",t.position="absolute",t.top=0,t.left=0,t.pointerEvents="none",t.userSelect="none",t.zIndex=0,t.wordBreak="break-all",t.lineHeight=".95em",t),this.dir<2&&null!=this.cfg.textWidth?{whiteSpace:"wrap",width:(1<(t=this.cfg.textWidth)?t:1)+"em"}:{whiteSpace:"pre",width:"4em"}),e.layout.appendChild(e.wrap)},config:function(t){return null==t?this.cfg:(h(this.cfg,t),this.cfg.format&&this.format(this.cfg.format),this.wrapper())},format:function(t){return null!=t?this._format=t:this._format},scale:function(t){return null!=t?this._scale=t:this._scale},caption:function(t){return null==this.cfg.showCaption||this.cfg.showCaption?this._n.label.textContent=t:this._n.label.textContent=""},update:function(){},ticks:function(n){var t,e,i,r=this,a={},o=this._n.layout.getBoundingClientRect()[this.dir<2?"width":"height"],o=Math.round(o/25),l=1<(t=Math.round(n.length/(1<o?o:1)))?t:1;for(e in this._ticks=n.filter(function(t,e){return!(e%l)||e===n.length-1}).map(function(t){var e,n;return a[(t="object"!=typeof t?{v:t}:t).v]=h((e=r._map)[n=t.v]||(e[n]={}),t)}),t=this._map)i=t[e],a[e]||i.n.g.parentNode.removeChild(i.n.g);return this._map=a,this._ticks.filter(function(t){return!t.n}).map(function(t){if(t.n={g:s("g"),p:s("path"),t:s("g")},t.n.g.appendChild(t.n.p),t.n.g.appendChild(t.n.t),r._n.root.appendChild(t.n.g),isNaN(+t.v))return t.t=t.v})},render:function(){var t,i,e,r=this,n=this._n,a=this.dir<2,o=n.wrap,l=this._ticks;return null==this.cfg.enabled||this.cfg.enabled?(a?((t=n.layout.style).height="",t.paddingTop="",t.paddingBottom=""):((t=n.layout.style).width="",t.paddingLeft="",t.paddingRight=""),n.domain.style.display="",l.map(function(t){return t.n.g.style.display=""}),i=getComputedStyle(o).fontSize,e=n.layout.getBoundingClientRect(),(t=n.domain.style).strokeWidth=1,t.stroke="currentColor",t.fill="none",l.map(function(t,e){var n=e?e===l.length-1?2:1:0;return t._c=null!=t.c?t.c:r._scale(t.v)+(r._scale.bandwidth?r._scale.bandwidth()/2:0),t._t=null!=t.t?t.t:r._format(t.v),(e=t.n.p.style).strokeWidth=1,e.stroke="currentColor",e.fill="none",o.textContent=t._t,o.style.textAlign=a?["left","center","right"][n]:["right","left"][r.dir-2],t.n.tt=wrapSvgText({node:o}),t.n.t.style.fontSize=i,t.n.t.textContent="",t.n.t.appendChild(t.n.tt)}),l.sort(function(t,e){return t._c-e._c}),a?(n.domain.setAttribute("d","M0 0L"+e.width+" 0Z"),n.label.setAttribute("x",e.width/2)):(n.domain.setAttribute("d","M0 0L0 "+e.height+"Z"),n.label.setAttribute("transform","translate(0,"+e.height/2+") rotate(90)")),l.map(function(t){return t.box=t.n.t.getBBox()}),this.adjust()):(a?((t=n.layout.style).height="0px",t.paddingTop="0",t.paddingBottom="0"):((t=n.layout.style).width="0px",t.paddingLeft="0",t.paddingRight="0"),n.domain.style.display="none",void l.map(function(t){return t.n.g.style.display="none"}))},adjust:function(){var c=this,d=this._ticks,p=this.dir<2,u=function(t,e,n){var i,r,a,o,l,s,h,u;if(!n.checked[t])return n.checked[t]=!0,i=d[t],o=t?t===d.length-1?2:1:0,u=[i._c,i._t][0],a={x:-(r=i.box).x,y:-r.y},o=!c._scale.bandwidth&&(null!=c.cfg.boundaryTickOffset?!!c.cfg.boundaryTickOffset:c.dir<2)?o/2:.5,p?a.x-=r.width*o:a.y-=r.height*o,i.n.tt.setAttribute("transform","translate("+a.x+","+a.y+")"),(r={size:r[p?"width":"height"],sizeAlt:r[p?"height":"width"],lv:e,tick:i,idx:t}).coord=u-r.size*o,p?(i.n.g.setAttribute("transform","translate("+u+",0)"),i.n.p.setAttribute("d","M0 0L0 "+c.cfg.tickSize),i.n.t.setAttribute("transform","translate(0,"+c.cfg.tickSize+")")):(i.n.g.setAttribute("transform","translate(0,"+u+")"),i.n.p.setAttribute("d","M0 0L-"+c.cfg.tickSize+" 0"),i.n.t.setAttribute("transform","translate("+(-c.cfg.tickSize-r.sizeAlt-1)+",0)")),u=[r.coord,r.coord+r.size],s=(u=[(l=u[0])-2,u[1]+2])[0],h=u[1],u=n.picked.filter(function(t){var e=[t.coord,t.coord+t.size],t=e[0];return(e=[t-2,e[1]+2])[0]<l&&l<e[1]||s<t&&t<h}).length,i.n.t.style.opacity=u?0:1,n.picked.push(r),!u};return function(t){var e,n,i,r,a,o,l,s,h;for(null==t&&(t=1),e=[{checked:{},picked:[],node:c._n.wrap},[]],n=e[0],i=e[1],n.fontSize=getComputedStyle(n.node).fontSize,d.map(function(t){return t.n.t.style.opacity=0}),d.length&&(i.push([0,d.length-1,0]),[0,d.length-1].map(function(t){return u(t,0,n)}));i.length;)r=(e=i.splice(0,1)[0])[0],a=e[1],t<=(o=e[2])||(l=Math.floor((r+a)/2),u(l,o,n),r+1<l&&i.push([r,l,o+1]),l+1<a&&i.push([l,a,o+1]));return s=Math.max.apply(Math,[0].concat(n.picked.map(function(t){return t.sizeAlt}))),c.dir<2?(c._n.label.setAttribute("y",s+c.cfg.tickSize),c._n.layout.style.height=s+c.cfg.tickSize+c._n.label.getBoundingClientRect().height+"px"):(c._n.label.setAttribute("x",0),c._n.label.setAttribute("y",0),c._n.layout.style.width=s+c.cfg.tickSize+c._n.label.getBoundingClientRect().width+"px",h=c._n.layout.getBoundingClientRect(),c._n.label.setAttribute("transform","translate("+-(s+c.cfg.tickSize)+","+h.height/2+") rotate(90)"),c._n.root.setAttribute("transform","translate("+h.width+",0)"))}(5)}}),"undefined"!=typeof chart&&null!==chart&&((chart.utils||(chart.utils={})).axis=t)}.call(this);
