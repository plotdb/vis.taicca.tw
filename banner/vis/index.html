<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html;charset=UTF-8"><base href="/"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1"><!-- Global site tag (gtag.js) - Google Analytics--><script async src="https://www.googletagmanager.com/gtag/js?id=G-HXVX4JRNGZ"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HXVX4JRNGZ');</script><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldiconfont/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldslider/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldnotify/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldcover/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldloader/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldbutton/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldpalettepicker/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/loading.css/main/lite.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/transition.css/main/transition.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/ldcolorpicker/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@plotdb/sheet/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@plotdb/chart/main/index.min.css"><link rel="stylesheet" type="text/css" href="css/panel.css"><link rel="stylesheet" type="text/css" href="css/index.css"><style type="text/css">body{font-size:16px;background:0;color:#fff}</style></head><body><div class="w-100 h-100 d-flex flex-column"><div class="text-center font-weight-bold" ld="title"></div><div class="flex-grow-1" id="root" ld="content"></div><div class="position-absolute" style="top:0;left:0;width:100%;height:100%;background:url(/assets/img/gears.svg) center center no-repeat;z-index:10" ld="loader"></div></div><script>if(/MSIE|Trident/.exec(navigator.userAgent)) { window.location.href = "/err/ie/" };</script><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=ResizeObserver" defer></script><script type="text/javascript" src="/assets/lib/i18next/main/dist/umd/i18next.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/lderror/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/bootstrap.native/main/dist/bootstrap-native-v4.min.js" defer></script><script type="text/javascript" src="/assets/lib/papaparse/main/papaparse.min.js" defer></script><script type="text/javascript" src="/assets/lib/csv4xls/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/semver/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/main/konfig.widget.bootstrap.js" defer></script><script type="text/javascript" src="/assets/lib/ldcolor/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcover/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldnotify/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldloader/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldslider/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldcolorpicker/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldpalettepicker/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldpalettepicker/main/all.palettes.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/sheet/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldfile/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/smiltool/main/smiltool.min.js" defer></script><script type="text/javascript" src="/assets/lib/jszip/main/dist/jszip.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/vscroll/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/datum/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/utils/tint.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/utils/config.min.js" defer></script><script type="module">var metacsv;metacsv=function(r){r==null&&(r={});return new Promise(function(e,n){var t;t=r.url?ld$.fetch(r.url,{method:"GET"},{type:"text"}):typeof r==="string"?r:r.raw?r.raw:null;if(!t){return n(new Error("invalid argument in metacsv"))}return t.then(function(t){t=t.trim();return Papa.parse(t).data}).then(function(t){var r,e,i,u;r=t.slice(6,7)[0];e=t.slice(7).map(function(n){return Object.fromEntries(r.map(function(t,e){return[t,n[e]]}))});i={head:r,body:e,sheet:[r].concat(t.slice(7)),unit:Object.fromEntries(t.slice(4,5)[0].map(function(t,e){return[r[e],t]})),mag:Object.fromEntries(t.slice(5,6)[0].map(function(t,e){return[r[e],t]})),meta:t.slice(0,6)};u=datum.type.get(i);i.type=Object.fromEntries(i.head.map(function(e,t){var n,r;n=i.meta[3][t];if(n==="T"){n="O"}r=!n?u.filter(function(t){return t.key===e})[0]:null;if(!r){r={type:n,types:Object.fromEntries([[n,1]])}}if(r.types.I===1){r.types.R=.5}return[e,r]}));return i}).then(function(t){return e(t)})["catch"](function(t){return n(t)})})};(function(t){return t.apply({})})(function(){var s,u,t,f,n,e,r,a,l=this;s={palette:{colors:["#d55741","#e8c05c","#7febb2","#577aeb","#aaaaaa"],maps:["遊戲","流行音樂","影視","出版"].concat([["其它","樣貌"]])},legend:{enabled:true,position:"bottom"},unit:{position:"inner"}};u={};t=function(){return metacsv({url:"/assets/data/ci/產業樣貌.csv"}).then(function(t){return l.data=t}).then(function(){var t;t=l.data.body.map(function(n,t){["年度","家數","就業人數","產值","出口值"].map(function(t){return n[t]=+(n[t]+"").replace(/,/g,"")});return n._idx=t});u.maxYear=Math.max.apply(Math,l.data.body.map(function(t){return+t["年度"]}));return t})};f=function(t){var n,e,r;n=t.chart,e=t.raw,r=t.binding;return Promise.resolve().then(function(){return n.setRaw({raw:e,binding:r})}).then(function(){l.ctx.inited=true;return l.view.render()})};n=function(t,e){return l.scope.init().then(function(){return l.manager.init()}).then(function(){return i18next.init({supportedLng:["en","zh-TW"],fallbackLng:"zh-TW"})}).then(function(){return block.i18n.use(i18next)}).then(function(){var n;n=document.querySelector("#root");return l.manager.get(import$({version:"0.0.1"},t)).then(function(t){return t.create(e?{data:e}:undefined)}).then(function(t){return t.attach({root:n}).then(function(){return t["interface"]()})})})};e={block:function(t){var n,e;n=t.name,e=t.version;return"/assets/block/"+n+"/"+e+"/index.html"},module:function(t){var n,e,r;n=t.name,e=t.version,r=t.path;if(!/^d3/.exec(n)){return"/assets/lib/"+n+"/"+e+"/"+r}return"/assets/lib/"+n+"/main/"+r}};this.scope=new rescope({prejs:["https://polyfill.io/v3/polyfill.min.js?features=ResizeObserver"],registry:e.module});this.view=new ldview({initRender:false,ctx:this.ctx={title:""},root:document.body,text:{title:function(t){var n;n=t.ctx;if(n){return n.title}else{return""}}},handler:{content:function(t){var n,e;n=t.node,e=t.ctx;if(!e.content){return}n.innerText=e.content;return n.classList.add("d-flex","align-items-center","justify-content-center","font-weight-bold","text-lg")},loader:function(t){var n,e;n=t.node,e=t.ctx;return n.classList.toggle("d-none",!!e.inited)}}});this.manager=new block.manager({registry:function(t){var n,e,r,a;n=t.name,e=t.version,r=t.path,a=t.type;return a==="block"?"/assets/block/"+n+"/"+e+"/index.html":!/^d3/.exec(n)?"/assets/lib/"+n+"/"+e+"/"+r:"/assets/lib/"+n+"/main/"+r},rescope:this.scope});r=Object.fromEntries(window.location.search.substring(1).split("&").map(function(t){return t.split("=").map(function(t){return decodeURIComponent(t)})}));this.ctx.favor=+r.favor;this.view.render();switch(this.ctx.favor){case 1:return t().then(function(){return n({name:"treemap"})}).then(function(t){var n,e;l.ctx.title=u.maxYear+"年度文化內容產業各分類產值總計";t.config(s);n=l.data.body.filter(function(t){return+t["年度"]===u.maxYear});e={color:{key:"產業別"},area:{key:"產值",unit:l.data.unit["產值"]},category:{key:"產業別"},name:{key:"次分類"}};return f({chart:t,raw:n,binding:e})});case 2:return t().then(function(){return n({name:"bubble"})}).then(function(t){var n,e,r;n=108;l.ctx.title=n+"年度文化內容產業各分類就業人數";t.config(s);e=l.data.body.filter(function(t){return+t["年度"]===n});r={group:{key:"產業別"},area:{key:"就業人數",unit:l.data.unit["就業人數"]},name:{key:"次分類"}};return f({chart:t,raw:e,binding:r})});case 3:return t().then(function(){return n({name:"pie"})}).then(function(t){var n,e,r,a,i,o,u,c;n=108;l.ctx.title=n+"年度文化內容產業出口值比例";t.config(s);e=l.data.body.filter(function(t){return+t["年度"]===n});r=Array.from(e.map(function(t){return t["產業別"]}));a={};e.map(function(t){var n;n=t["出口值"];return a[t["產業別"]]=(a[t["產業別"]]||0)+(isNaN(n)?0:n)});i=[];for(o in a){u=a[o];i.push({"產業別":o,"出口值":u})}e=i;c={name:{key:"產業別"},value:{key:"出口值"}};return f({chart:t,raw:e,binding:c})});case 4:return t().then(function(){return n({name:"voronoi-treemap"})}).then(function(t){var n,e,r,a,i,o;l.ctx.title=u.maxYear+"年度文化內容產業各產業別家數比例";t.config((s.percent=true,s.stack=true,s.legend={},s));n=l.data.body.filter(function(t){return+t["年度"]===u.maxYear});e=Array.from(n.map(function(t){return t["產業別"]}));r={};n.map(function(t){if(isNaN(t["家數"])){return}return r[t["產業別"]]=(r[t["產業別"]]||0)+t["家數"]});n=function(){var t,n=[];for(a in t=r){i=t[a];n.push([a,i])}return n}().map(function(t){return{"產業別":t[0],"家數":t[1]}});o={name:{key:"產業別"},category:{key:"產業別"},area:{key:"家數"}};return f({chart:t,raw:n,binding:o})});case 5:this.ctx.title="110年度文化內容產業各產業別性別比例";return ld$.fetch("/assets/data/topic/gender/2021.csv",{method:"GET"},{type:"text"}).then(function(t){var n,c,s,e,r;n=Papa.parse(t).data;c=n.splice(0,1)[0];s={};l.data=n.map(function(t){var n,e,r,a,i,o,u;n={};for(e=0,r=t.length;e<r;++e){a=e;n[c[a]]=isNaN(+t[a])?t[a]:+t[a]}if(n["男"]){return n}if(!n["產業"]){return null}if((i=n["產業"])==="各類型人力占比"||i==="總就業人數"){return null}o=(n["性別"]||"").replace("性","");(s[u=n["產業"]]||(s[u]={}))[o]=n["總計"];(s[u=n["產業"]]||(s[u]={}))["產業"]=n["產業"];return n}).filter(function(t){return t&&!/總就業/.exec(t["產業"])});if(function(){var t,n=[];for(e in t=s){r=t[e];n.push(r)}return n}().length>0){return l.data=function(){var t,n=[];for(e in t=s){r=t[e];n.push(r)}return n}()}}).then(function(){return n({name:"bubble"})}).then(function(t){var n;t.config((s.legend={direction:"vertical"},s));console.log(l.data);n={name:{key:"產業"},area:[{key:"男"},{key:"女"}]};return f({chart:t,raw:l.data,binding:n})});case 6:this.ctx.title="近一年國內電影票房佔比";return ld$.fetch("/assets/data/tfi/rank.json",{method:"GET"},{type:"json"}).then(function(t){l.data=t;return n({name:"percent-list"},{delayRender:false})}).then(function(t){var n;t.config(s);n={name:{key:"n"},value:{key:"v"}};return f({chart:t,raw:l.data,binding:n})});default:a=this.ctx;a.title="";a.content="Coming Soon";a.inited=true;return this.view.render()}});function import$(t,n){var e={}.hasOwnProperty;for(var r in n)if(e.call(n,r))t[r]=n[r];return t}</script></body></html>