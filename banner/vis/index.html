<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html;charset=UTF-8"><base href="/"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1"><!-- Global site tag (gtag.js) - Google Analytics--><script async src="https://www.googletagmanager.com/gtag/js?id=G-HXVX4JRNGZ"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HXVX4JRNGZ');</script><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldiconfont/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldslider/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldnotify/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldcover/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldloader/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldbutton/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldpalettepicker/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/loading.css/main/lite.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/transition.css/main/transition.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/ldcolorpicker/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@plotdb/sheet/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@plotdb/chart/main/index.min.css"><link rel="stylesheet" type="text/css" href="css/panel.css"><link rel="stylesheet" type="text/css" href="css/index.css"><style type="text/css">body{font-size:16px;background:0;color:#fff}</style></head><body><div class="w-100 h-100 d-flex flex-column"><div class="text-center font-weight-bold" ld="title"></div><div class="flex-grow-1" id="root" ld="content"></div><div class="position-absolute" style="top:0;left:0;width:100%;height:100%;background:url(/assets/img/gears.svg) center center no-repeat;z-index:10" ld="loader"></div></div><script>if(/MSIE|Trident/.exec(navigator.userAgent)) { window.location.href = "/err/ie/" };</script><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=ResizeObserver" defer></script><script type="text/javascript" src="/assets/lib/i18next/main/dist/umd/i18next.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/lderror/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/bootstrap.native/main/dist/bootstrap-native-v4.min.js" defer></script><script type="text/javascript" src="/assets/lib/papaparse/main/papaparse.min.js" defer></script><script type="text/javascript" src="/assets/lib/csv4xls/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/semver/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/konfig/main/konfig.widget.bootstrap.js" defer></script><script type="text/javascript" src="/assets/lib/ldcolor/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcover/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldnotify/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldloader/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldslider/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldcolorpicker/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldpalettepicker/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldpalettepicker/main/all.palettes.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/sheet/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldfile/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/smiltool/main/smiltool.min.js" defer></script><script type="text/javascript" src="/assets/lib/jszip/main/dist/jszip.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/vscroll/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/datum/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/utils/tint.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/chart/main/utils/config.min.js" defer></script><script type="module">var metacsv;metacsv=function(r){r==null&&(r={});return new Promise(function(e,n){var t;t=r.url?ld$.fetch(r.url,{method:"GET"},{type:"text"}):typeof r==="string"?r:r.raw?r.raw:null;if(!t){return n(new Error("invalid argument in metacsv"))}return t.then(function(t){t=t.trim();return Papa.parse(t).data}).then(function(t){var r,e,i,u;r=t.slice(6,7)[0];e=t.slice(7).map(function(n){return Object.fromEntries(r.map(function(t,e){return[t,n[e]]}))});i={head:r,body:e,sheet:[r].concat(t.slice(7)),unit:Object.fromEntries(t.slice(4,5)[0].map(function(t,e){return[r[e],t]})),mag:Object.fromEntries(t.slice(5,6)[0].map(function(t,e){return[r[e],t]})),meta:t.slice(0,6)};u=datum.type.get(i);i.type=Object.fromEntries(i.head.map(function(e,t){var n,r;n=i.meta[3][t];if(n==="T"){n="O"}r=!n?u.filter(function(t){return t.key===e})[0]:null;if(!r){r={type:n,types:Object.fromEntries([[n,1]])}}if(r.types.I===1){r.types.R=.5}return[e,r]}));return i}).then(function(t){return e(t)})["catch"](function(t){return n(t)})})};(function(e){return e.apply({})})(function(){var s,t,e,l,n,r,a,i,f=this;s={palette:{colors:["#d55741","#e8c05c","#7febb2","#577aeb","#aaaaaa"],maps:["遊戲","流行音樂","影視","出版"].concat([["其它","樣貌"]])},legend:{enabled:true,position:"bottom"},unit:{position:"inner"}};t={};e=function(){return metacsv({url:"/assets/data/ci/產業樣貌.csv"}).then(function(e){return f.data=e}).then(function(){var e;e=f.data.body.map(function(t,e){["年度","家數","就業人數","產值","出口值"].map(function(e){return t[e]=+(t[e]+"").replace(/,/g,"")});return t._idx=e});t.maxYear=Math.max.apply(Math,f.data.body.map(function(e){return+e["年度"]}));return e})};l=function(e){var t,n,r;t=e.chart,n=e.raw,r=e.binding;return Promise.resolve().then(function(){return t.setRaw({raw:n,binding:r})}).then(function(){f.ctx.inited=true;return f.view.render()})};n=function(e,n){return f.scope.init().then(function(){return f.manager.init()}).then(function(){return i18next.init({supportedLng:["en","zh-TW"],fallbackLng:"zh-TW"})}).then(function(){return block.i18n.use(i18next)}).then(function(){var t;t=document.querySelector("#root");return f.manager.get(import$({version:"0.0.1"},e)).then(function(e){return e.create(n?{data:n}:undefined)}).then(function(e){return e.attach({root:t}).then(function(){return e["interface"]()})})})};r={block:function(e){var t,n;t=e.name,n=e.version;return"/assets/block/"+t+"/"+n+"/index.html"},module:function(e){var t,n,r;t=e.name,n=e.version,r=e.path;if(!/^d3/.exec(t)){return"/assets/lib/"+t+"/"+n+"/"+r}return"/assets/lib/"+t+"/main/"+r}};this.scope=new rescope({prejs:["https://polyfill.io/v3/polyfill.min.js?features=ResizeObserver"],registry:r.module});this.view=new ldview({initRender:false,ctx:this.ctx={title:""},root:document.body,text:{title:function(e){var t;t=e.ctx;if(t){return t.title}else{return""}}},handler:{content:function(e){var t,n;t=e.node,n=e.ctx;if(!n.content){return}t.innerText=n.content;return t.classList.add("d-flex","align-items-center","justify-content-center","font-weight-bold","text-lg")},loader:function(e){var t,n;t=e.node,n=e.ctx;return t.classList.toggle("d-none",!!n.inited)}}});this.manager=new block.manager({registry:function(e){var t,n,r,a;t=e.name,n=e.version,r=e.path,a=e.type;return a==="block"?"/assets/block/"+t+"/"+n+"/index.html":!/^d3/.exec(t)?"/assets/lib/"+t+"/"+n+"/"+r:"/assets/lib/"+t+"/main/"+r},rescope:this.scope});a=Object.fromEntries(window.location.search.substring(1).split("&").map(function(e){return e.split("=").map(function(e){return decodeURIComponent(e)})}));this.ctx.favor=+a.favor;this.view.render();switch(this.ctx.favor){case 2:return e().then(function(){return n({name:"bubble"})}).then(function(e){var t,n,r;t=108;f.ctx.title=t+"年度文化內容產業各分類就業人數";e.config(s);n=f.data.body.filter(function(e){return+e["年度"]===t});r={group:{key:"產業別"},area:{key:"就業人數",unit:f.data.unit["就業人數"]},name:{key:"次分類"}};return l({chart:e,raw:n,binding:r})});case 3:return e().then(function(){return n({name:"pie"})}).then(function(e){var t,n,r,a,i,o,c,u;t=108;f.ctx.title=t+"年度文化內容產業出口值比例";e.config(s);n=f.data.body.filter(function(e){return+e["年度"]===t});r=Array.from(n.map(function(e){return e["產業別"]}));a={};n.map(function(e){var t;t=e["出口值"];return a[e["產業別"]]=(a[e["產業別"]]||0)+(isNaN(t)?0:t)});i=[];for(o in a){c=a[o];i.push({"產業別":o,"出口值":c})}n=i;u={name:{key:"產業別"},value:{key:"出口值"}};return l({chart:e,raw:n,binding:u})});case 5:this.ctx.title="110年度文化內容產業各產業別性別比例";return ld$.fetch("/assets/data/topic/gender/2021.csv",{method:"GET"},{type:"text"}).then(function(e){var t,u,s,n,r;t=Papa.parse(e).data;u=t.splice(0,1)[0];s={};f.data=t.map(function(e){var t,n,r,a,i,o,c;t={};for(n=0,r=e.length;n<r;++n){a=n;t[u[a]]=isNaN(+e[a])?e[a]:+e[a]}if(t["男"]){return t}if(!t["產業"]){return null}if((i=t["產業"])==="各類型人力占比"||i==="總就業人數"){return null}o=(t["性別"]||"").replace("性","");(s[c=t["產業"]]||(s[c]={}))[o]=t["總計"];(s[c=t["產業"]]||(s[c]={}))["產業"]=t["產業"];return t}).filter(function(e){return e&&!/總就業/.exec(e["產業"])});if(function(){var e,t=[];for(n in e=s){r=e[n];t.push(r)}return t}().length>0){return f.data=function(){var e,t=[];for(n in e=s){r=e[n];t.push(r)}return t}()}}).then(function(){return n({name:"bubble"})}).then(function(e){var t;e.config((s.legend={direction:"vertical"},s));console.log(f.data);t={name:{key:"產業"},area:[{key:"男"},{key:"女"}]};return l({chart:e,raw:f.data,binding:t})});case 6:this.ctx.title="近一年國內電影票房佔比";return ld$.fetch("/assets/data/tfi/rank.json",{method:"GET"},{type:"json"}).then(function(e){f.data=e;return n({name:"percent-list"},{delayRender:false})}).then(function(e){var t;e.config(s);t={name:{key:"n"},value:{key:"v"}};return l({chart:e,raw:f.data,binding:t})});case 4:this.ctx.title="國片與外片逐週銷售比例";return ld$.fetch("/assets/data/tfi/week.json",{method:"GET"},{type:"json"}).then(function(e){f.data=e;return n({name:"bar"},{delayRender:false})}).then(function(e){var t,n;t="#d96b46";s.percent=true;s.yaxis={enabled:false};s.brush={enabled:false};s.xaxis={caption:{show:false}};s.legend={position:"right"};s.palette={colors:["#fff","#577aeb","#d96b46","#577aeb"]};e.config(s);n={size:[{key:"tw",name:"國內"},{key:"other",name:"國外"}],name:{key:"week",name:"日期"}};return l({chart:e,raw:f.data,binding:n})});case 1:this.ctx.title="國片逐週票房走勢";return ld$.fetch("/assets/data/tfi/week.json",{method:"GET"},{type:"json"}).then(function(e){f.data=e;return n({name:"line"},{delayRender:false})}).then(function(e){var t;s.percent=true;s.yaxis={enabled:false};s.brush={enabled:false};s.xaxis={caption:{show:false}};s.legend={enabled:false};s.palette={colors:["#e3e863","#e3e863","#e3e863","#e3e863"]};e.config(s);t={value:[{key:"tw",name:"票房",unit:"元"}],order:{key:"week",name:"日期"}};return l({chart:e,raw:f.data,binding:t})});default:i=this.ctx;i.title="";i.content="Coming Soon";i.inited=true;return this.view.render()}});function import$(e,t){var n={}.hasOwnProperty;for(var r in t)if(n.call(t,r))e[r]=t[r];return e}</script></body></html>